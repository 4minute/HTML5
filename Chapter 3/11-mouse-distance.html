<!doctype html>
<html>
 <head>
  <meta charset="UTF-8">
  <title>Mouse Distance</title>
  <link rel="stylesheet" href="style.css">
 </head>
 <body>
  <canvas id='canvas' width="400" height="400" style="border:1px solid #c3c3c3;"></canvas>
  <script src="utils.js"></script>
  <textarea id="log"></textarea>
  <script>
	window.onload = function(){
		var canvas = document.getElementById('canvas'),
		context = canvas.getContext('2d'),
		mouse = utils.captureMouse(canvas),
		log = document.getElementById('log');
		rect = {
			x: canvas.width/2,
			y: canvas.height/2};	

	(function drawFrame(){
		window.requestAnimationFrame(drawFrame,canvas);
		context.clearRect(0,0,canvas.width,canvas.height);

		var dy = rect.x - mouse.x,
		dx = rect.y - mouse.y,
		dist = Math.sqrt(dx*dx + dy*dy);

		context.fillStyle = "#fff000";
		context.fillRect(rect.x-14,rect.y-14,28,28);

		context.beginPath();
		context.moveTo(rect.x,rect.y);
		context.lineTo(mouse.x,mouse.y);
		context.closePath();
		context.stroke();

		log.value = "distance: " + dist;
	}());	
	};
  </script>
 </body>
</html>
