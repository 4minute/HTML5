<!doctype html>
<html>
 <head>
  <meta charset="UTF-8">
  <title>Curve Through Point</title>
  <link rel="stylesheet" href="style.css">
 </head>
 <body>
  <canvas id="canvas" width="400" height="400" style="border:1px solid #c3c3c3;"></canvas>
  <script src="utils.js"></script>
  <script>
	window.onload = function(){
		var canvas = document.getElementById('canvas'),
		context = canvas.getContext('2d'),
		mouse = utils.captureMouse(canvas);
		x0 = 100,
		y0 = 200,
		x2 = 300,
		y2 = 200;
		console.log("x0: "+x0+",y0: "+y0);
		console.log("x2: "+x2+",y2: "+y2);

	function onMouseMove(){
		context.lineTo(mouse.x,mouse.y);
		context.stroke();	
		context.lineWidth=10;
		context.strokeStyle = 'rgba(255,0,0,0.5)';
	}

	canvas.addEventListener('mousemove',function(){
		context.clearRect(0,0,canvas.width,canvas.height);

		var x1 = mouse.x * 2 - (x0 + x2) / 2,
			y1 = mouse.y * 2 - (y0 + y2) / 2;
			console.log("mouse.x: "+mouse.x+",mouse.y: "+mouse.y);
			console.log("x1: "+x1+",y1: "+y1);
		context.beginPath();
		context.moveTo(x0,y0);
		context.quadraticCurveTo(x1,y1,x2,y2);
		context.stroke();
	},false);
	};
  </script>
 </body>
</html>
